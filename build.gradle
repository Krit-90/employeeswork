plugins {
    id 'java'
    id 'idea'
    id 'checkstyle'
}

group 'edu'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

def checkstyleConfigDir = "${rootProject.projectDir}/config/checkstyle"
allprojects {
    apply plugin: 'checkstyle'

    checkstyle {
        toolVersion = '6.2'
        configFile = new File("${checkstyleConfigDir}/checkstyle.xml".toString())
        configProperties = [
                'configDir': rootProject.file('config/checkstyle'),
                'baseDir'  : rootDir
        ]
//        reportsDir = new File("${buildDir}/checkstyle".toString())
        ignoreFailures = false
    }
}